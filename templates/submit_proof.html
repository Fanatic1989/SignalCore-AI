@app.route('/submit-proof', methods=['GET', 'POST'])
def submit_proof():
    if request.method == 'POST':
        # Get the submitted transaction ID
        txid = request.form.get('txid')

        # Get the uploaded screenshot (if any)
        screenshot = request.files.get('screenshot')

        print("üßæ Proof Submitted")
        print("TXID:", txid)

        # Save the screenshot to the uploads folder
        if screenshot and screenshot.filename:
            filename = secure_filename(screenshot.filename)
            filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
            screenshot.save(filepath)
            print("Saved screenshot:", filepath)
        else:
            print("‚ö†Ô∏è No screenshot uploaded.")

        # Mark user as VIP in session
        session.permanent = True
        session['is_vip'] = True

        # Redirect to the VIP access page
        return redirect(url_for('vip_payment'))

    # If GET request, show the form
    return render_template('submit_proof.html')
